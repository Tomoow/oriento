<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <meta name="description" content="Geef een Oriento cadeaubon cadeau. Perfect voor iedereen die houdt van juwelen, accessoires en woondecoratie. Koop online of kom langs in onze winkel in Zwevegem.">
    <title>Oriento - Cadeaubon</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="favicon.ico">
    <!-- Apply theme immediately to prevent browser auto-darkening and flash -->
    <script>
        (function() {
            const root = document.documentElement;
            const saved = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            // Use saved preference, or default to user's system preference
            const initial = saved || (prefersDark ? 'dark' : 'light');
            root.setAttribute('data-theme', initial);
            root.style.colorScheme = initial === 'dark' ? 'dark' : 'light';
        })();
    </script>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script defer src="https://cloud.umami.is/script.js" data-website-id="0ab64e85-45ea-4c78-865c-c0731fd3dd7d"></script>
</head>
<body>
    <div class="header-wrapper">
        <!-- Announcement Banner -->
        <div class="announcement-banner" id="announcement-banner" style="display: none;">
            <div class="announcement-content">
                <i data-lucide="alert-triangle" class="announcement-icon"></i>
                <div class="announcement-text" id="announcement-text"></div>
                <button class="icon-button announcement-close" id="announcement-close" aria-label="Close announcement" data-umami-event="Close Announcement">
                    <i data-lucide="x"></i>
                </button>
            </div>
        </div>

        <header class="site-header">
            <div class="header-container">
                <nav class="main-nav">
                    <a href="/" class="logo">
                        <img src="img/logo.svg" alt="Oriento Logo">
                    </a>
                    <div class="header-social">
                        <button type="button" id="dark-mode-toggle-header" class="dark-mode-toggle-header" aria-label="Toggle dark mode" role="switch" aria-checked="false" data-umami-event="Toggle Dark Mode">
                            <i data-lucide="sun" class="theme-icon theme-icon-sun"></i>
                            <i data-lucide="moon" class="theme-icon theme-icon-moon" style="display: none;"></i>
                        </button>
                        <a href="https://www.facebook.com/profile.php?id=100063604631891" target="_blank" aria-label="Facebook" data-umami-event="Social - Facebook">
                            <i data-lucide="facebook"></i>
                        </a>
                        <a href="instagram://user?username=oriento_home.fashion" data-fallback="https://www.instagram.com/oriento_home.fashion/" class="instagram-link" aria-label="Instagram" data-umami-event="Social - Instagram">
                            <i data-lucide="instagram"></i>
                        </a>
                        <button class="hamburger" aria-label="Menu" data-umami-event="Toggle Menu">
                            <span></span>
                            <span></span>
                            <span></span>
                        </button>
                    </div>
                    <ul class="nav-menu">
                        <li><a href="/" data-umami-event="Nav - Home"><i data-lucide="home"></i> Home</a></li>
                        <li><a href="/collectie.html" data-umami-event="Nav - Collectie"><i data-lucide="shopping-bag"></i> Collectie</a></li>
                        <li><a href="/about.html" data-umami-event="Nav - Over ons"><i data-lucide="users"></i> Over ons</a></li>
                        <li><a href="/cadeaubon.html" class="active" data-umami-event="Nav - Cadeaubon"><i data-lucide="gift"></i> Cadeaubon</a></li>
                    </ul>
                </nav>
            </div>
        </header>
    </div>

    <section class="giftcard-section">
        <div class="giftcard-container">
            <!-- Tab Navigation -->
            <div class="giftcard-tabs">
                <button type="button" class="giftcard-tab giftcard-tab-active" data-tab="online" data-umami-event="Giftcard Tab - Online">
                    Online
                </button>
                <button type="button" class="giftcard-tab" data-tab="store" data-umami-event="Giftcard Tab - Fysiek">
                    Fysiek
                </button>
            </div>
            
            <!-- Online Cadeaubon Content (visible by default) -->
            <div class="giftcard-content-wrapper" id="giftcard-online-content">
                <div class="giftcard-online">
                    <!-- In-app browser message (shown instead of iframe) -->
                    <div class="giftcard-in-app-message" id="giftcard-in-app-message" style="display: none;">
                        <div class="giftcard-in-app-content">
                            <i data-lucide="alert-triangle" class="giftcard-in-app-icon"></i>
                            <h4>Open in Safari of Chrome</h4>
                            <p>De betaling werkt niet in de in-app browser van Instagram of Facebook. Open deze pagina in Safari of Chrome om de betaling te voltooien.</p>
                            <p><strong>Hoe te doen:</strong></p>
                            <ol style="text-align: left; display: inline-block; margin: 1rem 0;">
                                <li>Klik op de drie puntjes (•••) rechtsboven</li>
                                <li>Selecteer "Open in Safari" of "Open in Chrome"</li>
                                <li>Ga terug naar deze pagina en probeer opnieuw</li>
                            </ol>
                            <a href="https://cdn.giftup.app/dist/checkout.html?site=6c95273a-a914-498b-dd57-08de1ad66191&environment=Production" 
                               target="_blank" 
                               rel="noopener noreferrer"
                               class="btn btn-primary" 
                               data-umami-event="Giftcard - Direct Checkout Link">
                                Open checkout pagina
                            </a>
                        </div>
                    </div>
                    <div class="giftcard-widget" id="giftcard-widget">
                        <div class="gift-up-target" data-site-id="6c95273a-a914-498b-dd57-08de1ad66191" data-platform="Other" data-locale="nl_NL"></div>
                    </div>
                    <!-- Debug text to show detection status -->
                    <div class="giftcard-debug-text" id="giftcard-debug-text" style="text-align: center; margin-top: 1rem; padding: 0.5rem; font-size: 0.85rem; color: #666; display: none;">
                        <p id="giftcard-debug-message"></p>
                    </div>
                    <!-- Facebook external browser info message (shown under iframe when Facebook app detected) -->
                    <div class="giftcard-fb-info-message" id="giftcard-fb-info-message" style="display: none;">
                        <div class="giftcard-fb-info-content">
                            <i data-lucide="info" class="giftcard-fb-info-icon"></i>
                            <p>Als de betaling vastloopt, open deze website in een externe browser via de drie puntjes (•••).</p>
                        </div>
                    </div>
                    <!-- In-app browser detection message (shown instead of iframe on mobile/tablet) -->
                    <div class="giftcard-in-app-detection-message" id="giftcard-in-app-detection-message" style="display: none;">
                        <div class="giftcard-in-app-detection-content">
                            <i data-lucide="alert-triangle" class="giftcard-in-app-detection-icon"></i>
                            <h4 id="giftcard-in-app-detection-title"></h4>
                            <p><strong>Wat wel werkt:</strong></p>
                            <ul id="giftcard-in-app-detection-list" style="text-align: left; display: inline-block; margin: 1rem 0; padding-left: 1.5rem;">
                            </ul>
                            <p id="giftcard-in-app-detection-note" style="margin-top: 1rem;"></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Fysieke Cadeaubon Content (hidden by default) -->
            <div class="giftcard-content-wrapper giftcard-hidden" id="giftcard-store-content">
                <div class="giftcard-store-card">
                    <div class="giftcard-store-image">
                        <img src="img/cadeaubon.webp" alt="Ingepakte cadeaubon">
                    </div>
                    <div class="giftcard-store-content">
                        <h3>Bezoek onze winkel voor een prachtig ingepakte cadeaubon</h3>
                        <p>Liever persoonlijk advies en een cadeaubon die met zorg is ingepakt? Kom dan langs in onze winkel in Zwevegem. We helpen je graag om de perfecte cadeaubon te kiezen en maken er een mooi geschenk van, klaar om te geven.</p>
                        <a href="https://www.google.com/maps/search/?api=1&query=Otegemstraat+31,+8550+Zwevegem,+Belgium" target="_blank" class="btn btn-primary" data-umami-event="Giftcard - Visit Store">Kom naar onze winkel</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="site-footer">
        <div class="footer-container">
            <div class="footer-info">
                <h3>Oriento</h3>
                <p>Otegemstraat 31</p>
                <p>8550 Zwevegem</p>
                <p>Tel: <a href="tel:056754577">056/75.45.77</a></p>
                <p>Email: <a href="mailto:oriento@skynet.be">oriento@skynet.be</a></p>
                <p>BTW: BE 0678.212.914</p>
                
                <div class="footer-social">
                    <a href="https://www.facebook.com/profile.php?id=100063604631891" target="_blank" aria-label="Facebook">
                        <i data-lucide="facebook"></i>
                    </a>
                    <a href="instagram://user?username=oriento_home.fashion" data-fallback="https://www.instagram.com/oriento_home.fashion/" class="instagram-link" aria-label="Instagram">
                        <i data-lucide="instagram"></i>
                    </a>
                </div>
            </div>
            
            <div class="footer-hours">
                <h4>Openingsuren<span class="footer-week-range" id="footer-week-range"></span></h4>
                <div class="hours-grid">
                    <div class="day-hours">
                        <span class="day">Maandag</span>
                        <span class="hours">Gesloten</span>
                    </div>
                    <div class="day-hours">
                        <span class="day">Dinsdag</span>
                        <span class="hours">10:00 - 12:00 en 14:00 - 18:00</span>
                    </div>
                    <div class="day-hours">
                        <span class="day">Woensdag</span>
                        <span class="hours">10:00 - 12:00 en 14:00 - 18:00</span>
                    </div>
                    <div class="day-hours">
                        <span class="day">Donderdag</span>
                        <span class="hours">14:00 - 18:00</span>
                    </div>
                    <div class="day-hours">
                        <span class="day">Vrijdag</span>
                        <span class="hours">10:00 - 12:00 en 14:00 - 18:00</span>
                    </div>
                    <div class="day-hours">
                        <span class="day">Zaterdag</span>
                        <span class="hours">10:00 - 12:00 en 14:00 - 18:00</span>
                    </div>
                    <div class="day-hours">
                        <span class="day">Zondag</span>
                        <span class="hours">Gesloten</span>
                    </div>
                </div>
            </div>
            
            <div class="footer-nav">
                <h4>Pages</h4>
                <a href="/">Home</a>
                <a href="/about.html">Over ons</a>
                <a href="/collectie.html">Collectie</a>
                <a href="/cadeaubon.html">Cadeaubon</a>
            </div>
        </div>
        
        <div class="footer-bottom">
            <div class="footer-bottom-content">
                <div class="footer-bottom-left">
                    <a href="#" class="footer-bottom-link" data-modal="privacy" data-umami-event="Open Privacy Modal">Privacy</a>
                    <span class="footer-separator" aria-hidden="true"></span>
                    <a href="#" class="footer-bottom-link" data-modal="algemene-voorwaarden" data-umami-event="Open Algemene Voorwaarden Modal">Algemene Voorwaarden</a>
                </div>
                <div class="footer-copyright">
                    <p>© Oriento 2025</p>
                    <p class="website-creator">Website made by Tom Lievens</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Popup Modal (shown on page load if enabled) -->
    <div id="popup-modal" class="modal">
        <div class="modal-content popup-modal-content">
            <button class="icon-button modal-close popup-close" aria-label="Close popup" data-umami-event="Close Popup Modal">
                <i data-lucide="x"></i>
            </button>
            <div class="popup-modal-body">
                <div class="popup-image-wrapper" id="popup-image-wrapper">
                    <img id="popup-image" src="" alt="Popup">
                </div>
                <h2 id="popup-title" hidden></h2>
                <div id="popup-text" class="popup-text" hidden></div>
            </div>
        </div>
    </div>

    <!-- Modal for Privacy -->
    <div id="privacy-modal" class="modal">
        <div class="modal-content">
            <button class="icon-button modal-close" aria-label="Close modal" data-umami-event="Close Privacy Modal">
                <i data-lucide="x"></i>
            </button>
            <div id="privacy-content"></div>
        </div>
    </div>

    <!-- Gift Up script -->
    <script type="text/javascript">
    (function (g, i, f, t, u, p, s) {
        g[u] = g[u] || function() { (g[u].q = g[u].q || []).push(arguments) };
        p = i.createElement(f);
        p.async = 1;
        p.src = t;
        s = i.getElementsByTagName(f)[0];
        s.parentNode.insertBefore(p, s);
    })(window, document, "script", "https://cdn.giftup.app/dist/gift-up.js", "giftup");
    
    // Set locale to Dutch for Mollie payment page
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(function() {
            if (window.giftup) {
                try {
                    window.giftup('setLocale', 'nl_NL');
                } catch(e) {
                    console.log('Gift-up locale setting:', e);
                }
            }
        }, 1000);
    });
    
    if (window.giftup) {
        try {
            window.giftup('setLocale', 'nl_NL');
        } catch(e) {
            // Will retry on DOMContentLoaded
        }
    }
    </script>

    <script>
        // Detect in-app browsers (Google app, Messenger) and show message instead of iframe on mobile/tablet
        (function() {
            function isMobileOrTablet() {
                return window.innerWidth <= 1024 || /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            }
            
            function detectInAppBrowser() {
                const uaOriginal = navigator.userAgent || navigator.vendor || window.opera || '';
                const ua = uaOriginal.toLowerCase();
                const result = {
                    detected: false,
                    name: '',
                    title: '',
                    note: '',
                    debugMessage: '',
                    isFBApp: false, // Flag to show external browser prompt
                    browserName: '' // Browser name for the button
                };
                
                // Log user agent for debugging
                console.log('User agent:', uaOriginal);
                
                // FIRST: Extract FBAN value if present - this is the most reliable indicator
                const fbanMatch = uaOriginal.match(/FBAN[\/;]([^;\)\]]+)/i);
                const fbanValue = fbanMatch ? fbanMatch[1] : '';
                const hasFBAN = ua.includes('fban');
                
                console.log('FBAN detected:', hasFBAN);
                console.log('FBAN value extracted:', fbanValue);
                
                // Check for Messenger FIRST (before Facebook) using multiple methods
                const uaOriginalUpper = uaOriginal.toUpperCase();
                const hasMessengerInUA = uaOriginalUpper.includes('MESSENGER');
                const hasFacebookInUA = uaOriginalUpper.includes('FACEBOOK');
                
                // Method 1: Check FBAN value directly
                const fbanValueUpper = fbanValue ? fbanValue.toUpperCase() : '';
                const fbanIsMessenger = fbanValueUpper.includes('MESSENGER');
                const fbanIsFacebook = fbanValueUpper.includes('FACEBOOK') && !fbanValueUpper.includes('MESSENGER');
                
                // Method 2: Check for FBAN/Messenger patterns
                const hasFBANMessenger = ua.includes('fban/messenger') || ua.includes('fban;messenger') || ua.includes('[fban;messenger');
                const hasFBANFacebook = ua.includes('fban/facebook') || ua.includes('fban;facebook') || ua.includes('[fban;facebook');
                
                // Method 3: Check for MessengerForAndroid
                const hasMessengerForAndroid = ua.includes('messengerforandroid');
                
                // Method 4: Check if "Messenger" appears anywhere in UA (case-insensitive)
                const hasMessengerText = hasMessengerInUA;
                
                // Determine if it's Messenger (check this FIRST, before Facebook)
                const isMessenger = fbanIsMessenger || hasFBANMessenger || hasMessengerForAndroid || (hasFBAN && hasMessengerText && !hasFacebookInUA);
                
                // Determine if it's Facebook (only if NOT Messenger)
                const isFacebook = !isMessenger && (fbanIsFacebook || hasFBANFacebook || (hasFBAN && hasFacebookInUA && !hasMessengerText));
                
                console.log('Messenger checks:', {
                    fbanIsMessenger: fbanIsMessenger,
                    hasFBANMessenger: hasFBANMessenger,
                    hasMessengerForAndroid: hasMessengerForAndroid,
                    hasMessengerText: hasMessengerText,
                    hasMessengerInUA: hasMessengerInUA,
                    isMessenger: isMessenger
                });
                
                console.log('Facebook checks:', {
                    fbanIsFacebook: fbanIsFacebook,
                    hasFBANFacebook: hasFBANFacebook,
                    hasFacebookInUA: hasFacebookInUA,
                    isFacebook: isFacebook
                });
                
                // Set debug message - Messenger FIRST
                if (isMessenger) {
                    result.detected = true;
                    result.isFBApp = true;
                    result.name = 'Messenger';
                    result.title = 'Je kunt geen cadeaubon kopen via de Messenger browser.';
                    result.note = 'Je kan met de drie puntjes (•••) dit scherm in een externe browser openen om een cadeaubon aan te kopen.';
                    result.debugMessage = '✅ Gedetecteerd: Messenger (FBAN: ' + (fbanValue || 'N/A') + ')';
                    console.log('Messenger detected!');
                    return result;
                } else if (isFacebook) {
                    result.debugMessage = '✅ Gedetecteerd: Facebook app (niet geblokkeerd) - FBAN: ' + (fbanValue || 'N/A');
                    result.isFBApp = true;
                    result.name = 'Facebook';
                    console.log('Facebook app detected (not blocking)');
                    return result; // Don't block Facebook app
                } else if (ua.includes('instagram')) {
                    result.debugMessage = '✅ Gedetecteerd: Instagram';
                    console.log('Instagram detected (not blocking)');
                    return result; // Don't block Instagram
                } else if (hasFBAN) {
                    // Has FBAN but couldn't determine which one
                    result.debugMessage = '⚠️ Gedetecteerd: Facebook/Messenger (onbekend type) - FBAN waarde: "' + (fbanValue || 'niet gevonden') + '" - UA bevat Messenger: ' + hasMessengerInUA + ', Facebook: ' + hasFacebookInUA;
                    result.isFBApp = true;
                    result.name = 'Facebook/Messenger';
                    console.log('FB app detected but type unknown. User agent:', uaOriginal);
                    console.log('FBAN value:', fbanValue);
                    console.log('Full UA analysis:', {
                        hasMessengerInUA: hasMessengerInUA,
                        hasFacebookInUA: hasFacebookInUA,
                        fbanValue: fbanValue
                    });
                    return result;
                } else {
                    result.debugMessage = '❓ Niet gedetecteerd: Geen Facebook/Messenger/Google app';
                }
                
                // Check for Google app
                if (/GSA/i.test(ua) || 
                    /GoogleApp/i.test(ua) ||
                    (ua.includes('iPhone') && ua.includes('Mobile') && ua.includes('Safari') && !ua.includes('CriOS') && !ua.includes('FxiOS') && window.navigator.standalone === undefined && document.referrer === '')) {
                    result.detected = true;
                    result.name = 'Google App';
                    result.title = 'Je kunt geen cadeaubon kopen via de Google app.';
                    result.note = '';
                    result.debugMessage = '✅ Gedetecteerd: Google app';
                    console.log('Google app detected!');
                    return result;
                }
                
                return result;
            }
            
            // Wait for DOM to be ready
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', checkInAppBrowser);
            } else {
                checkInAppBrowser();
            }
            
            function checkInAppBrowser() {
                const detection = detectInAppBrowser();
                const isMobile = isMobileOrTablet();
                const widget = document.getElementById('giftcard-widget');
                const message = document.getElementById('giftcard-in-app-detection-message');
                const messageTitle = document.getElementById('giftcard-in-app-detection-title');
                const messageList = document.getElementById('giftcard-in-app-detection-list');
                const messageNote = document.getElementById('giftcard-in-app-detection-note');
                const debugText = document.getElementById('giftcard-debug-text');
                const debugMessage = document.getElementById('giftcard-debug-message');
                const fbInfoMessage = document.getElementById('giftcard-fb-info-message');
                
                // Hide debug message - don't show it to users
                if (debugText) {
                    debugText.style.display = 'none';
                }
                
                // Show info message for Facebook/Messenger UA detection
                // Always show iframe for Facebook/Messenger, just show info message
                const isFBOrMessenger = (detection.name === 'Facebook' || detection.name === 'Messenger' || detection.name === 'Facebook/Messenger') && detection.isFBApp;
                
                if (isFBOrMessenger && fbInfoMessage) {
                    // Show the info message
                    fbInfoMessage.style.display = 'block';
                    
                    // Re-initialize Lucide icons
                    if (typeof lucide !== 'undefined') {
                        lucide.createIcons();
                    }
                } else if (fbInfoMessage) {
                    // Hide if not Facebook/Messenger
                    fbInfoMessage.style.display = 'none';
                }
                
                // Debug logging
                console.log('Detection result:', detection);
                console.log('Is mobile/tablet:', isMobile);
                console.log('Widget element:', widget);
                console.log('Message element:', message);
                
                // Only hide iframe and show message on mobile/tablet for Google app (not Facebook/Messenger)
                // Always show iframe for Facebook/Messenger, just show info message
                if (detection.detected && isMobile && detection.name !== 'Messenger' && detection.name !== 'Facebook' && detection.name !== 'Facebook/Messenger' && widget && message && messageTitle && messageList) {
                    console.log('Hiding iframe and showing message for:', detection.name);
                    // Hide iframe, show message
                    widget.style.display = 'none';
                    message.style.display = 'block';
                    
                    // Hide debug text when showing the full message
                    if (debugText) {
                        debugText.style.display = 'none';
                    }
                    
                    // Set the title
                    messageTitle.textContent = detection.title;
                    
                    // Set the list items
                    messageList.innerHTML = '<li>Open deze pagina in Safari of Chrome op je telefoon</li><li>Of gebruik je computer om een cadeaubon aan te schaffen</li>';
                    
                    // Set the note (only for Messenger)
                    if (messageNote) {
                        if (detection.note) {
                            messageNote.textContent = detection.note;
                            messageNote.style.display = 'block';
                        } else {
                            messageNote.style.display = 'none';
                        }
                    }
                    
                    // Re-initialize Lucide icons
                    if (typeof lucide !== 'undefined') {
                        lucide.createIcons();
                    }
                    
                    // Log for debugging
                    console.log(detection.name + ' detected on mobile/tablet. User agent:', navigator.userAgent);
                } else {
                    console.log('Not hiding iframe. Reasons:', {
                        detected: detection.detected,
                        isMobile: isMobile,
                        hasWidget: !!widget,
                        hasMessage: !!message
                    });
                }
            }
        })();
    </script>

    <script src="script.js"></script>
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <script>
        if (window.netlifyIdentity) {
            window.netlifyIdentity.on("init", user => {
                if (!user) {
                    window.netlifyIdentity.on("login", () => {
                        document.location.href = "/admin/";
                    });
                }
            });
        }
        
        // Initialize Lucide icons
        if (typeof lucide !== 'undefined') {
            lucide.createIcons();
        }
        
        // Giftcard tabs functionality
        (function() {
            const tabs = document.querySelectorAll('.giftcard-tab');
            const onlineContent = document.getElementById('giftcard-online-content');
            const storeContent = document.getElementById('giftcard-store-content');
            
            if (tabs.length === 0 || !onlineContent || !storeContent) return;
            
            function switchTab(activeTab) {
                // Update tab buttons
                tabs.forEach(tab => {
                    if (tab.getAttribute('data-tab') === activeTab) {
                        tab.classList.add('giftcard-tab-active');
                        tab.setAttribute('aria-selected', 'true');
                    } else {
                        tab.classList.remove('giftcard-tab-active');
                        tab.setAttribute('aria-selected', 'false');
                    }
                });
                
                // Update content visibility
                if (activeTab === 'online') {
                    onlineContent.classList.remove('giftcard-hidden');
                    storeContent.classList.add('giftcard-hidden');
                } else {
                    onlineContent.classList.add('giftcard-hidden');
                    storeContent.classList.remove('giftcard-hidden');
                }
            }
            
            // Add click handlers to tabs
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');
                    switchTab(tabName);
                });
            });
            
            // Initialize: online is active by default
            switchTab('online');
        })();
        
        // Make giftcard store card clickable (desktop only)
        (function() {
            const storeCard = document.querySelector('.giftcard-store-card');
            const storeButton = document.querySelector('.giftcard-store-content .btn-primary');
            
            if (!storeCard || !storeButton) return;
            
            function updateCardClickability() {
                const isDesktop = window.innerWidth > 768;
                
                if (isDesktop) {
                    // Make card clickable on desktop
                    storeCard.style.cursor = 'pointer';
                    
                    // Remove existing listener if any
                    storeCard.removeEventListener('click', handleCardClick);
                    storeCard.addEventListener('click', handleCardClick);
                } else {
                    // Remove clickability on mobile
                    storeCard.style.cursor = 'default';
                    storeCard.removeEventListener('click', handleCardClick);
                }
            }
            
            function handleCardClick(e) {
                // Don't navigate if clicking directly on the button (let button handle it)
                if (e.target.closest('.btn-primary')) {
                    return;
                }
                
                // Navigate to the button's href
                const buttonHref = storeButton.getAttribute('href');
                if (buttonHref) {
                    window.open(buttonHref, storeButton.getAttribute('target') || '_self');
                }
            }
            
            // Initialize
            updateCardClickability();
            
            // Update on resize
            let resizeTimeout;
            window.addEventListener('resize', function() {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(updateCardClickability, 100);
            });
        })();
    </script>
</body>
</html>


